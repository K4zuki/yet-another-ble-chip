## ぼくがかんがえたさいきょうのry
### NXP社LPC11U35とマイクロSDカードでイカ醤油*もどき*する
#### ハードウェア構想
##### NXP LPC11U35マイコン
mbed LPC1768はLocalFileSystem以外にもEthernetやUSBホスト/デバイスなど機能が盛り沢山で、最初のmbedとしてはベストなのですが、多機能すぎです。
そこで、LocalFileSystemを持っていないmbedプラットフォームを用いつつ、LocalFileSystemと
同様に扱えるファイルシステムをソフト的に実装します。  
これに使えそうなマイコンとして`LPC11U35`を使うことを考えました。`LPC11U35`はUSBデバイス機能を持った
NXP社LPCシリーズのCortex-M0マイコンです。パッケージサイズも小さく、5ミリ角のQFNパッケージから
ラインナップされています。[mbedインタフェースIC](1)としてNXP系のmbedプラットフォームによく載っています。  
[1]: _mbedインタフェースICはUSBメモリとしてPCに認識されるようにプログラムされていて、ドラッグ&ドロップでターゲットICにバイナリを書き込みます。それ以外の時はUSB-UARTブリッジもしくはCMSIS-DAPデバッグインタフェースとして振る舞います。_

##### マイクロSDカード
mbed.org上に上がっている各種ライブラリには、マイクロSDカードを扱うものもあります。
LocalFileSystemはmbed LPC1768/11U24に実装されているフラッシュメモリを利用していますが、
その部分のライブラリ類はMDK-ARMのフリー版ではコンパイルできないので、マイクロSDカードで代替させる方法を考えます。

### ソフトウェア設計
##### mbed式DA14580用UARTローダライブラリ
前1.3項で示したLPC1768向けのプログラムからアルゴリズムを抜き出し、LocalFileSystemをマイクロSDカードで代用する前提でLPC11U35でも使えるように移植します。


##### マイクロSDカードをUSBメモリに見せる
### 使ってみた
